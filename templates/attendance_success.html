{% extends "layout.html" %}

{% block content %}
<div class="max-w-xl mx-auto mt-12 animate-bounce-in">
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200 text-center p-8">

        <!-- Success Icon -->
        <div class="mx-auto flex items-center justify-center w-24 h-24 rounded-full bg-green-100 mb-6">
            <span class="material-symbols-outlined text-green-600" style="font-size: 48px;">check_circle</span>
        </div>

        <h1 class="text-3xl font-bold text-slate-800 mb-2">Attendance Marked!</h1>
        <p class="text-lg text-slate-500 mb-8">
            Welcome back, <span class="font-semibold text-slate-900" id="user-name"></span>
        </p>

        <!-- Details Card -->
        <div class="bg-slate-50 rounded-xl p-6 border border-slate-100 mb-8 max-w-sm mx-auto">
            <div class="grid grid-cols-2 gap-4 divide-x divide-slate-200">
                <div class="text-center">
                    <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">Date</p>
                    <p class="text-lg font-bold text-slate-700" id="date">--</p>
                </div>
                <div class="text-center pl-4">
                    <p class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1">Time</p>
                    <p class="text-lg font-bold text-blue-600" id="time">--</p>
                </div>
            </div>
        </div>

        <!-- Action -->
        <a href="/recognition"
            class="inline-flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white font-medium rounded-lg hover:bg-slate-800 transition-colors shadow-lg shadow-slate-900/20">
            <span class="material-symbols-outlined text-[20px]">arrow_back</span>
            Back to Recognition
        </a>
    </div>

    <p class="text-center text-slate-400 text-sm mt-6">Redirecting in 3 seconds...</p>
</div>

<script>
    // Parse query params to fill data
    const urlParams = new URLSearchParams(window.location.search);
    document.getElementById('user-name').innerText = urlParams.get('name') || "User";
    document.getElementById('date').innerText = urlParams.get('date') || "--";
    document.getElementById('time').innerText = urlParams.get('time') || "--";

    // Auto redirect back
    setTimeout(() => {
        window.location.href = "/recognition";
    }, 3000);
</script>
{% endblock %}